<!--pages/hot-stations/hot-stations.wxml-->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="header-title">ğŸ”¥ çƒ­é—¨ç«™ç‚¹ Top 10</text>
    <text class="header-subtitle">åŸºäºæ€»éœ€æ±‚é‡æ’å</text>
  </view>

  <!-- ç»Ÿè®¡æ¦‚è§ˆ -->
  <view class="stats-section">
    <view class="stat-item">
      <text class="stat-value">{{topStations.length}}</text>
      <text class="stat-label">çƒ­é—¨ç«™ç‚¹</text>
    </view>
    <view class="stat-item">
      <text class="stat-value">{{totalDemand}}</text>
      <text class="stat-label">æ€»éœ€æ±‚é‡</text>
    </view>
    <view class="stat-item">
      <text class="stat-value">{{avgDemand}}</text>
      <text class="stat-label">å¹³å‡éœ€æ±‚</text>
    </view>
  </view>

  <!-- æ’ååˆ—è¡¨ -->
  <view class="ranking-section">
    <view class="rank-card" wx:for="{{topStations}}" wx:key="stationId" bindtap="goToStationDetail" data-station-id="{{item.stationId}}">
      <!-- æ’åå¾½ç«  -->
      <view class="rank-badge rank-{{item.rank <= 3 ? item.rank : 'other'}}">
        <text class="rank-number">{{item.rank}}</text>
      </view>

      <!-- ç«™ç‚¹ä¿¡æ¯ -->
      <view class="station-info">
        <view class="info-top">
          <text class="station-name">{{item.name}}</text>
          <view class="demand-level level-{{item.demandLevel}}">
            <text>{{item.demandLevelText}}</text>
          </view>
        </view>
        
        <view class="info-middle">
          <text class="station-id">ID: {{item.stationId}}</text>
          <text class="station-address">{{item.address}}</text>
        </view>

        <view class="info-bottom">
          <view class="data-item">
            <text class="data-label">æ€»éœ€æ±‚</text>
            <text class="data-value">{{item.totalDemandDisplay}}</text>
          </view>
          <view class="data-item">
            <text class="data-label">å¹³å‡éœ€æ±‚</text>
            <text class="data-value">{{item.avgDemand}}/æ—¶</text>
          </view>
          <view class="data-item">
            <text class="data-label">å³°å€¼æ—¶æ®µ</text>
            <text class="data-value">{{item.peakHour}}:00</text>
          </view>
        </view>
      </view>

      <!-- è¿›åº¦æ¡ -->
      <view class="demand-bar">
        <view class="bar-fill" style="width: {{item.demandPercent}}%;"></view>
      </view>

      <!-- ç®­å¤´å›¾æ ‡ -->
      <view class="arrow-icon">
        <text>â€º</text>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æç¤º -->
  <view class="footer-tip">
    <text class="tip-text">ğŸ’¡ ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹ç«™ç‚¹è¯¦æƒ…</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-overlay" wx:if="{{loading}}">
    <view class="loading-content">
      <view class="loading-spinner"></view>
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>
  </view>
</view>
